<!DOCTYPE html>
<html lang="pt-br">
<head>
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="mensagens.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Domus - Mensagens</title>
</head>
<body>

    <div class="barr">
        <h1>Domus</h1>
    <div class="bar-text">
         <div class="gif-org">
            <a href="inicio.html"> <img class="gif" src="../../public/assets/image/botao-de-inicio.png"> <h3>Inicio</h3> </a>
            <a href="finanças.html"> <img class="gif" src="../../public/assets/video/output-onlinegiftools.gif"> <h3>Finanças</h3> </a>
            <a href="mensagens.html"> <img class="gif" src="../../public/assets/video/output-onlinegiftools (1).gif"> <h3>Mensagens</h3> </a>
            <a href="chamados.html"> <img class="gif" src="../../public/assets/video/output-onlinegiftools (6).gif  ">  <h3>Chamados</h3> </a>
            <a href="sobre.html"> <img class="gif" src="../../public/assets/video/output-onlinegiftools (4).gif"> <h3>sobre</h3> </a>
            <a href=""> <img class="contato" src="/public/assets/image/instagram.png"</a>
            
         </div>
    </div>
</div>
<div class="cab">
    <a href="settings"><img class="settings" src="../../public/assets/image/settings.png"></a>
    <div class="profile-container">
        <a><img class="user" id="profile-icon" src="../../public/assets/image/user (1).png" alt="Perfil"> </a>
        <div class="dropdown-menu" id="dropdown-menu">
            <div class="user-info">
                <p id="logged-user">Usuário logado</p>
            </div>
            <a href="/src/page/settings.html" id="settings">Configuração</a>
            <a href="/src/page/index.html" id="switch-account">Trocar de conta</a>
            <a href="/src/home/começo.html" id="logout">Sair</a>
        </div>
    </div>
</div>

<div class="content">
    <h2>Mensagens e Comunicações</h2>
    <p>Envie e receba mensagens importantes para a comunidade.</p>
    <div class="messages-section">
        <div class="compose-message">
            <h3>Enviar Mensagem</h3>
            <form id="message-form">
                <label for="recipient">Destinatário:</label>
                <select id="recipient">
                    <option value="all">Todos os Moradores</option>
                    <option value="sindico">Síndico</option>
                </select>
                <label for="subject">Assunto:</label>
                <input type="text" id="subject" required>
                <label for="message">Mensagem:</label>
                <textarea id="message" rows="5" required></textarea>
                <button type="submit">Enviar</button>
            </form>
        </div>
        <div class="message-list">
            <h3>Mensagens Recebidas</h3>
            <div class="message-item">
                <h4>Reunião Extraordinária</h4>
                <p>De: Síndico</p>
                <p>Haverá uma reunião extraordinária amanhã às 19h.</p>
            </div>
            <div class="message-item">
                <h4>Manutenção Programada</h4>
                <p>De: Administração</p>
                <p>A manutenção do elevador está programada para sexta-feira.</p>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const profileIcon = document.getElementById('profile-icon');
        const dropdownMenu = document.getElementById('dropdown-menu');
        const loggedUser = document.getElementById('logged-user');
        const settings = document.getElementById('settings');
        const switchAccount = document.getElementById('switch-account');
        const logout = document.getElementById('logout');

        const usuario = localStorage.getItem('usuario');
        if (usuario) {
            loggedUser.textContent = usuario;
        } else {
            loggedUser.textContent = 'Usuário não logado';
        }

        profileIcon.addEventListener('click', function(event) {
            event.preventDefault();
            dropdownMenu.classList.toggle('show');
        });

        document.addEventListener('click', function(event) {
            if (!profileIcon.contains(event.target) && !dropdownMenu.contains(event.target)) {
                dropdownMenu.classList.remove('show');
            }
        });

        switchAccount.addEventListener('click', function(event) {
            event.preventDefault();
            window.location.href = 'index.html';
        });

        settings.addEventListener('click', function(event) {
            event.preventDefault();
            window.location.href = '/src/page/settings.html';
        });

        logout.addEventListener('click', function(event) {
            event.preventDefault();
            localStorage.removeItem('usuario');
            window.location.href = '/src/home/começo.html';
        });

        // Handle message form submission
        const messageForm = document.getElementById('message-form');
        messageForm.addEventListener('submit', function(event) {
            event.preventDefault();
            alert('Mensagem enviada com sucesso!');
            messageForm.reset();
        });
    });
</script>

</body>
</html>
